# Tedoori Web v3 - Test Report & User Guide

This document outlines the features implemented in the Tedoori Web v3 project, focusing on the Project Detail Page enhancements, Blog functionality, and general UI/UX improvements. It serves as both a verification report and a user manual.

## 1. Project Grid (Main Page)
**Status:** ✅ Functional

### Features Verified:
- **Display:** Projects are displayed in a responsive masonry-like grid.
- **Admin Mode:**
  - Toggle "Admin Mode" button in the top right (visible only to logged-in admins).
  - When ON: Edit/Delete buttons appear on cards; Private projects are visible.
  - When OFF: Only Public/Team projects are visible; Controls hidden.
- **Add Project:**
  - "+ Add" button opens a modal.
  - Supports Image, Video (YouTube), and Memo types.
  - **Visibility Controls:** Checkboxes for "Show ID", "Show Title", "Detail Link" work correctly.
- **Edit Project:**
  - "Edit" button on card opens modal with pre-filled data.
  - Updates to visibility settings (ID/Title/Link) persist after refresh.
- **Drag & Drop:**
  - Projects can be reordered via drag handle (`:::`) in Admin Mode.

## 2. Project Detail Page
**Status:** ✅ Functional

### Layout Features:
- **Split Pane:**
  - **Left Pane:** Gallery (Images/Videos/Memos). Default width: 70%.
  - **Right Pane:** Blog (Description/Text). Default width: 30%.
  - **Resizer:** A vertical drag handle between panes allows adjusting the split ratio (10% - 90%).
- **Responsive:** On mobile (<768px), layout stacks vertically (Gallery top, Blog bottom).

### Gallery Section (Left Pane):
- **Content:** Displays project items (images, videos, memos).
- **Admin Controls (Admin Mode ON):**
  - **Add:** "+ Add" button (Image/Video/Memo).
  - **Edit:** "Edit" button on items.
  - **Reorder:** Drag handle (`:::`) to sort items.
  - **Visibility:** Toggle Public/Team/Private per item.
  - **Resize:** Toggle custom size vs default.
- **Interactions:**
  - **Click (User):** Opens Lightbox.
  - **Click (Admin):** Inserts the clicked image into the Blog section at the cursor position.

### Blog Section (Right Pane):
- **View Mode:** Displays text and images cleanly.
- **Edit Mode:**
  - Toggle via "Edit" button in the blog header.
  - **Text Editing:** Text blocks become `textarea` inputs for direct editing.
  - **Image Insertion:**
    - "+ Add Image" button appears in header.
    - **Click-to-Insert:** Clicking an image in the Gallery inserts it into the blog.
    - Insertion logic: Splits the current text block at cursor position, inserts image, and adds a new text block below.
  - **Image Resizing:**
    - Images in the blog have a resize handle on the right edge.
    - Drag to adjust width (pixels).
  - **Reorder/Delete:** Controls (Up/Down/Delete) appear for each block.

## 3. Memo Functionality
**Status:** ✅ Functional

- **Types:** Memos exist as both standalone Project Cards and Gallery Items.
- **Styling:**
  - Background color, Text color, Alignment.
  - (Font Family/Size temporarily disabled per request).
- **Inline Editing:**
  - In Project Detail, clicking a Memo item (Admin) opens the Edit Modal.
  - Updates reflect immediately.

## 4. Bug Fixes & Improvements
- **Hydration Mismatch:** Fixed `ReferenceError` and `Hydration failed` errors by ensuring consistent server/client rendering logic (`isDesktop` state, `useId` for DnD).
- **Persistence:** Fixed issue where "Show ID/Title" settings reset on refresh by updating the API route to save/load these fields from the database `details` column.
- **Blog UI:** Simplified Blog controls (removed bottom buttons, added header "Edit" toggle).

## 5. How to Test

1.  **Login as Admin:** (Ensure `AdminContext` is set or use dev mode toggle).
2.  **Create Project:** Add a new project from the main page.
3.  **Enter Project:** Click the project card.
4.  **Test Resize:** Drag the vertical bar between Gallery and Blog.
5.  **Edit Blog:**
    *   Click "Edit" in the right pane header.
    *   Type text in the textarea.
    *   Click an image in the Left Pane (Gallery). Verify it appears in the text.
    *   Hover over the inserted image in the blog, drag the right edge to resize.
    *   Click "Done" to save.
6.  **Refresh:** Reload the page and verify all layouts and content remain as set.

---
*Report generated by Trae AI Pair Programmer on 2026-02-12.*
